function uiEchart(t,e){e=e||{},this.opts=t,this.$box=$("#"+this.opts.id),this.chartOptions={},this.defaultOptions={title:{show:!1,left:"center",textStyle:{fontSize:14,fontWeight:"normal",fontFamily:"Arial, Helvetica, sans-serif"}},color:["#398bfe","#ff3232"],animation:!1,legend:{show:!1,orient:"horizontal",bottom:0,right:0,selectedMode:!1,borderWidth:0,itemWidth:8,itemHeight:8},grid:{left:11,right:11,bottom:30,top:30,containLabel:!1,borderWidth:1},xAxis:{show:!0,gridIndex:0,position:"bottom",type:"category",name:"",nameRotate:280,nameLocation:"center",splitLine:{show:!1,lineStyle:{width:0}},axisTick:{alignWithLabel:!0},axisLabel:{showMinLabel:!0,showMaxLabel:!0,axisLabel:{fontSize:10}},data:[]},yAxis:{show:!0,gridIndex:0,position:"left",type:"value",name:"",axisLabel:{show:!0},axisTick:{show:!1},nameGap:10,nameLocation:"end"},tooltip:{show:!0,trigger:"axis",showContent:!0,confine:!0,borderWidth:1,textStyle:{lineHeight:18,fontSize:12},splitLine:{show:!1},axisPointer:{label:{},lineStyle:{width:0}}},series:{line:{symbol:"circle",symbolSize:8,showSymbol:!0,markPoint:{symbolSize:8,symbol:"circle"},smooth:!0,label:{normal:{show:!1,position:"top"}}},bar:{barMaxWidth:8}}},this.defaultChartColor={xAxis:{axisLabel:{color:"#c0c0c0"},axisLine:{lineStyle:{color:"#222222"}}},legend:{textStyle:{color:"#808080"}},yAxis:{nameTextStyle:{color:"#808080"},axisLabel:{color:"#c0c0c0"},axisLine:{lineStyle:{color:"#222222"}},axisTick:{lineStyle:{color:"#5b646e"}},splitLine:{lineStyle:{color:"#222222"}}},series:{}},this.global={colorStyle:"black"},this.setColorStyle(),this.opts.jumpSelf&&(this.global.jumpSelf=this.opts.jumpSelf,delete this.opts.jumpSelf);for(var o in e)this.global[o]=e[o];this.init()}uiEchart.prototype.setColorStyle=function(){var t=document.body,e=t.currentStyle?t.currentStyle:getComputedStyle(t,null);if(e){var o=e.color+"";"#000"!=(o=o.toUpperCase())&&"#000000"!=o&&"RGB(0, 0, 0)"!=o&&"RGB(0,0,0)"!=o||(this.global.colorStyle="white")}},uiEchart.prototype.init=function(){if(this.global.jumpSelf)this.jumpSelfCall();else{this.inityAxis(),this.initSeries();for(var t in this.opts)"yAxis"!=t&&"series"!=t&&(Array.isArray(this.opts[t])?this.chartOptions[t]=this.opts[t]:"string"==typeof this.opts[t]||(this.chartOptions[t]=$.extend(!0,{},this.defaultOptions[t]||{},this.defaultChartColor[t]||{},this.opts[t]||{})));for(var e in this.defaultOptions)this.chartOptions[e]||("Object"==commonFn.isType(this.defaultOptions[e])?this.chartOptions[e]=$.extend(!0,{},this.defaultOptions[e]):this.chartOptions[e]=this.defaultOptions[e]);this.setEchartOpts()}},uiEchart.prototype.setEchartOpts=function(){this.chartObj=echarts.init(this.$box[0]),this.chartObj.setOption(this.chartOptions)},uiEchart.prototype.inityAxis=function(){if(Array.isArray(this.opts.yAxis)){for(var t=[],e=0;e<this.opts.yAxis.length;e++){o=this.opts.yAxis[e]||{};t.push($.extend(!0,{},this.defaultOptions.yAxis,this.defaultChartColor.yAxis||{},this.opts.yAxis[e]||{},{axisLabel:{formatter:o.formatter||commonFn.getDefaultFunc(o.dataType||"2",o.dw||"")||null}}))}this.chartOptions.yAxis=t}else{var o=this.opts.yAxis||{};this.chartOptions.yAxis=$.extend(!0,{},this.defaultOptions.yAxis,this.defaultChartColor.yAxis||{},this.opts.yAxis||{},{axisLabel:{formatter:o.formatter||commonFn.getDefaultFunc(o.dataType||"2",o.dw||"")||null}})}},uiEchart.prototype.initSeries=function(){for(var t=[],e=0;e<this.opts.series.length;e++){var o=this.opts.series[e].type;"line"!=o&&"bar"!=o||t.push($.extend(!0,{},this.defaultOptions.series[o],this.defaultChartColor.series[o]||{},this.opts.series[e]||{}))}this.chartOptions.series=t},uiEchart.prototype.getDataURL=function(){return this.chartObj.getDataURL({type:"png",pixelRatio:1})},uiEchart.prototype.jumpSelfCall=function(){function t(t,e){for(var o=0;o<e.length;o++)if(t.toFixed(0)<=o)return e[o];return"#e90315"}var e={};if("scrd"==this.global.jumpSelf.type||"nxfx"==this.global.jumpSelf.type){this.global.jumpSelf.scrdValue;40;var o={white:{pie:new echarts.graphic.LinearGradient(0,1,1,1,[{offset:0,color:"#398bfe"},{offset:1,color:"#ff0000"}]),grantColor:new echarts.graphic.LinearGradient(0,1,1,1,[{offset:0,color:"#398bfe"},{offset:1,color:"#ff0000"}]),deepColor:"#dedede",bkclr:"#fff",txtclr:"#808080",scrd:["#1c0ce8","#1d0be6","#1e0be5","#1f0be5","#180df0","#81047c","#ee030f","#f0030d","#eb0313","#ef030e","#e90315"],nxfx:["#009300","#038f0b","#038e0a","#1d8709","#527508","#7d6808","#c05106","#e44505","#f33f04","#f33f05","#ff3d01"]},black:{pie:new echarts.graphic.LinearGradient(0,1,1,1,[{offset:0,color:"#398bfe"},{offset:1,color:"#ff0000"}]),grantColor:new echarts.graphic.LinearGradient(0,1,1,1,[{offset:0,color:"#398bfe"},{offset:1,color:"#ff0000"}]),deepColor:"#333",bkclr:"#000",txtclr:"#808080",labtxt:"#c0c0c0",pointclr:"#c0c0c0",grantColor2:new echarts.graphic.LinearGradient(0,1,1,1,[{offset:0,color:"#009300"},{offset:1,color:"#ff3d01"}]),scrd:["#4782ec","#3d89f9","#4682ed","#6e65b7","#964a80","#81047c","#ee030f","#f0030d","#eb0313","#ef030e","#e90315"],nxfx:["#009300","#038f0b","#038e0a","#1d8709","#527508","#7d6808","#c05106","#e44505","#f33f04","#f33f05","#ff3d01"]}}[this.global.colorStyle],i=this.global.jumpSelf.chartCfg||{center:"50%",nxcenter:"42%",radius:62,scpie:54,ciclrpie:7,inciclrpie:5};"scrd"==this.global.jumpSelf.type?e={innerPie:{name:"内圈圆边框",type:"pie",clockWise:!0,startAngle:210,avoidLabelOverlap:!1,radius:[i.scpie-2,i.scpie],label:{normal:{show:!1,position:"center"},emphasis:{show:!1}},labelLine:{normal:{show:!1}},hoverAnimation:!1,center:["50%",i.center],data:[{value:30,name:"",itemStyle:{normal:{color:o.pie}}},{value:15,name:"",itemStyle:{color:"transparent"}}]},bottomgauge:{name:"底部仪表",type:"gauge",animation:!1,splitNumber:10,min:0,max:100,startAngle:210,endAngle:-30,radius:i.radius,center:["50%",i.center],axisLine:{show:0,lineStyle:{shadowColor:"transparent",width:6,color:[[1,o.grantColor]]}},axisTick:{show:!0,lineStyle:{color:o.bkclr,width:2,opacity:"1"},length:10,splitNumber:5},splitLine:{show:0,length:20,lineStyle:{color:"#fff"}},axisLabel:{show:!1},pointer:{show:1,length:"80%",width:28},detail:{shadowBlur:2,offsetCenter:[0,68],textStyle:{color:o.txtclr,fontSize:14},formatter:"市场热度"},itemStyle:{shadowOffsetY:0},data:[{name:"",value:40}]},pietop:{name:"饼图遮层",tooltip:{show:!1},type:"pie",radius:"50%",center:["50%",i.center],hoverAnimation:!1,labelLine:{normal:{show:!1}},startAngle:225,animation:!1,data:[{value:10,itemStyle:{normal:{color:o.bkclr}}},{value:3,itemStyle:{color:"transparent"}}]},piebottom:{name:"遮罩",itemStyle:{normal:{color:o.bkclr}},type:"pie",radius:"40%",center:["50%",i.center],hoverAnimation:!1,labelLine:{normal:{show:!1}},animation:!1,data:[{value:parseInt(40),itemStyle:{normal:{color:o.bkclr}},label:{normal:{formatter:"{c}℃",position:"center",show:!0,textStyle:{fontSize:"28",fontWeight:"normal",color:t(4,o.scrd)}}},name:""}]},topgauge:{name:"顶部仪表",type:"gauge",splitNumber:10,min:0,max:100,startAngle:210,endAngle:-30,radius:i.radius,center:["50%",i.center],axisLine:{show:0,lineStyle:{shadowColor:"transparent",width:6,color:[[.4,"transparent"],[1,o.deepColor]]}},axisTick:{show:!0,lineStyle:{color:o.bkclr,width:2,opacity:"1"},length:10,splitNumber:5},splitLine:{show:0,length:20,lineStyle:{color:"transparent"}},axisLabel:{show:!1},pointer:{show:0},detail:{shadowBlur:2,offsetCenter:[0,48],textStyle:{color:t(4,o.scrd),fontSize:16},formatter:function(t){vl=parseFloat(t);var e="";return vl<15?e="市场氛围冷清":vl<35?e="市场氛围不活跃":vl<60?e="市场氛围一般":vl<80?e="市场较为活跃":vl>=80&&(e="市场非常活跃"),e}(40)},itemStyle:{shadowOffsetY:20},data:[{name:"",value:parseInt(40)}]}}:"nxfx"==this.global.jumpSelf.type&&(e={innergauge:{name:"内圈gauge",type:"gauge",animation:!1,splitNumber:4,min:-100,max:100,startAngle:210,endAngle:-30,radius:i.radius,center:["50%",i.nxcenter],axisLine:{show:0,lineStyle:{shadowColor:"transparent",width:6,color:[[1,new echarts.graphic.LinearGradient(0,1,1,1,[{offset:0,color:"#009300"},{offset:1,color:"#ff3d01"}])]]}},axisTick:{show:!1},splitLine:{show:0,length:1},axisLabel:{show:!0,color:o.labtxt,formatter:function(t){return-100==t||-50==t||0==t||50==t||100==t?t:""}},pointer:{show:1,length:"30%",width:4},detail:{shadowBlur:2,offsetCenter:[0,68],textStyle:{color:o.txtclr,fontSize:14},formatter:"牛熊风向"},itemStyle:{color:o.pointclr},data:[{name:"",value:40}]},outergauge:{name:"外层gauge",type:"gauge",animation:!1,splitNumber:4,min:-100,max:100,startAngle:210,endAngle:-30,radius:i.radius,center:["50%",i.nxcenter],axisLine:{show:0,lineStyle:{shadowColor:"transparent",width:6,color:[[1,o.grantColor2]]}},axisTick:{show:!1},splitLine:{show:0,length:1},axisLabel:{show:!0,distance:-30,formatter:function(t){return-100==t?"{a|  弱\n}":-50==t?"{b|较弱\n}":50==t?"{c|较强\n}":100==t?"{d|强  \n}":""},rich:{a:{color:"#00ff00"},b:{color:"#91b500"},c:{color:"#c9a10b"},d:{color:"#ff3d01"}}},title:{show:!0,color:t(7,o.nxfx),offsetCenter:[0,48]},pointer:{show:0},data:[{name:function(t){vl=parseFloat(t);var e="";return vl<-75?e="市场走势很弱":vl<-25?e="市场走势较弱":vl<25?e="市场走势一般":vl<75?e="市场走势较强":vl>=75&&(e="市场走势很强"),e}(40),value:parseInt(40)}]},outerpie:{name:"小圆形",type:"pie",animation:!1,hoverAnimation:!1,legendHoverLink:!1,center:["50%",i.nxcenter],radius:[i.inciclrpie,i.ciclrpie],z:10,label:{normal:{show:!1,position:"center"},emphasis:{show:!1}},labelLine:{normal:{show:!1}},data:[{value:0,name:"1"},{value:100,name:"2",itemStyle:{normal:{color:o.pointclr},emphasis:{color:o.pointclr}}}]},innerpie:{name:"小圆形",type:"pie",animation:!1,center:["50%",i.nxcenter],hoverAnimation:!1,legendHoverLink:!1,radius:["0%",i.inciclrpie],z:10,label:{normal:{show:!1,position:"center"},emphasis:{show:!1}},labelLine:{normal:{show:!1}},data:[{value:0,name:"1",itemStyle:{normal:{color:"red"}}},{value:100,name:"2",itemStyle:{normal:{color:o.bkclr},emphasis:{color:o.bkclr}}}]}})}"function"==typeof this.global.jumpSelf.jumpSelfCall&&this.global.jumpSelf.jumpSelfCall.call(this,e),this.setEchartOpts()};var commonFn={};commonFn.emptyStr=function(t){return t&&0!=t.length&&"null"!=t?t:"--"},commonFn.fmtFlt=function(t){var e=parseFloat(t);return isNaN(e)?0:e},commonFn.fmtInt=function(t){var e=parseInt(t);return isNaN(e)?0:e},commonFn.fmtMinData=function(t){t=t||{};var e={ws:2,bz:!0,seldw:!0};for(var o in t)e[o]=t[o];return function(t,o){o=o||"";var i=parseFloat(t);if("--"==(i=isNaN(i)?"--":i))return"--";if(0==i)return e.bz?0==e.ws?"0":e.seldw?"0.00"+o:"0.00":"--";var a=e.ws;return e.isSpeVal&&(Math.abs(i)>=10&&Math.abs(i)<100?a=1:Math.abs(i)>=100&&(a=0)),e.seldw?i.toFixed(a)+o:i.toFixed(a)}},commonFn.fmtBigData=function(t){t=t||{};var e={yw:0,ws:2,cs:1,bz:!0,dw:!0,reFloat:0,isSpeVal:!1,seldw:!0,isSpeVal2:0};for(var o in t)e[o]=t[o];return function(t,o){o=o||"";var i=parseFloat(t);if("--"==(i=isNaN(i)?"--":i))return"--";if(0==i)return e.bz?2==e.isSpeVal2?"0":"0.00":"--";var a="",n="";if("2"==e.cs?"1"==e.yw?(n=i.toFixed(e.ws),a="万"):"2"==e.yw?(n=(i/1e4).toFixed(e.ws),a="亿"):Math.abs(i)<1e4?(n=i.toFixed(e.ws),a="万"):Math.abs(i)>=1e4&&Math.abs(i)<1e8?(n=(i/1e4).toFixed(e.ws),a="亿"):(n=(i/1e8).toFixed(e.ws),a="万亿"):"3"==e.cs?"1"==e.yw?(n=(100*i).toFixed(e.ws),a="万"):"2"==e.yw?(n=(i/100).toFixed(e.ws),a="亿"):100*Math.abs(i)<1e4?(n=(100*i).toFixed(e.ws),a="万"):100*Math.abs(i)>=1e4&&100*Math.abs(i)<1e8?(n=(i/100).toFixed(e.ws),a="亿"):(n=(i/1e6).toFixed(e.ws),a="万亿"):"1"==e.yw?(n=(i/1e4).toFixed(e.ws),a="万"):"2"==e.yw?(n=(i/1e8).toFixed(e.ws),a="亿"):Math.abs(i)<1e4?n=i.toFixed(e.ws):Math.abs(i)>=1e4&&Math.abs(i)<1e8?(n=(i/1e4).toFixed(e.ws),a="万"):Math.abs(i)>=1e8&&Math.abs(i)<1e12?(n=(i/1e8).toFixed(e.ws),a="亿"):(n=(i/1e12).toFixed(e.ws),a="万亿"),e.reFloat)return parseFloat(n);if(1==e.isSpeVal2){t=parseFloat(n);n=Math.abs(t)>=100&&Math.abs(t)<1e3?t.toFixed(1):Math.abs(t)>=1e3?t.toFixed(0):t.toFixed(2)}else if(2==e.isSpeVal2){t=parseFloat(n);n=Math.abs(t)>=10&&Math.abs(t)<100?t.toFixed(1):Math.abs(t)>=100?t.toFixed(0):0==t?t.toFixed(0):t.toFixed(2)}else if(e.isSpeVal){var t=parseFloat(n);n=Math.abs(t)>=10&&Math.abs(t)<100?t.toFixed(1):Math.abs(t)>=100?t.toFixed(0):t.toFixed(2)}return e.dw?e.seldw?n+a+o:n+a:n}},commonFn.mapKeyFunc={0:commonFn.emptyStr,1:commonFn.fmtFlt,2:commonFn.fmtMinData(),3:commonFn.fmtMinData({ws:0}),4:commonFn.fmtBigData(),5:commonFn.fmtBigData({isSpeVal:!0}),6:commonFn.fmtBigData({cs:2}),7:commonFn.fmtBigData({isSpeVal:!0,cs:2}),10:commonFn.fmtMinData({ws:4}),11:commonFn.fmtMinData({isSpeVal:!0}),12:commonFn.fmtBigData({isSpeVal2:1}),13:commonFn.fmtBigData({yw:2,isSpeVal:!0,dw:!1}),14:commonFn.fmtBigData({yw:2,isSpeVal:!0}),15:commonFn.fmtBigData({yw:1,isSpeVal:!0,dw:!1}),16:commonFn.fmtBigData({yw:1,isSpeVal2:2,dw:!1}),17:commonFn.fmtBigData({isSpeVal:!0,seldw:!1})},commonFn.getDefaultFunc=function(t){return t=t||0,commonFn.mapKeyFunc[t]||commonFn.mapKeyFunc[0]},commonFn.isType=function(t){var e=Object.prototype.toString.call(t);return"[object Array]"==e?"Array":"[object Object]"==e?"Object":"param is no object type"};