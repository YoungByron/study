当前点的历史后一日 H-C + L-C, 求和，求正负比
排除方式+测试
低仓介入？ 

OBV 50

TDX txt to lc5，追加
TDX 怎么显示无小数点的整数

修改快捷键==================================================
涨停闪买5101  
    跌停闪卖5132  
    撤单查询5333  
    
    闪买5091  
    闪卖5111  
    
    
    一键全撤5335
    闪买手5334
    多户撤卖5347
    多户撤买5348
    多户全撤5346
    
    其余ID可以通过菜单资源项查得
==================================================
	
优化：
	买卖点，作为唯一计算条件
	运算慢
	
	用大周期的均线或其它指标进行分段计算，比如只取低于均线的买卖点，选出适合的参数
	计算时怎么能进行多线程计算，加快速度
	[Done]怎么得到历史5分钟数据
	
	公式修改：最后一根出买入、卖出的情况
	调用tc*.dll的自动交易，找出按钮的函数及其中调用的参数。。。
	仓位限制的自动交易工具
	
	公式模块化 = 专家公式（发出信号） + 附图引用它进行计算、画线
	

static char sMainClass[256] = "TdxW_MainFrame_Class";
//无法更换股票，只能交易当前主图显示行情的票
void OnBuy()
{
	char buyCount[256] = "19000";
	char sDlgCaption[256] = "闪电买入";
	char sBuyBtnTxt[256] = "买 入";

	HWND hTDX_MainWnd = ::FindWindowA(sMainClass, NULL);
	if (hTDX_MainWnd)
	{
		HWND hTDX_QuickTradeWnd = ::FindWindowA("#32770", sDlgCaption);
		while (NULL != hTDX_QuickTradeWnd)
		{
			Sleep(10);
			SendMessage(hTDX_QuickTradeWnd, WM_CLOSE, 0, 0L);
			hTDX_QuickTradeWnd = ::FindWindowA("#32770", sDlgCaption);
		}

		/*
		买一价闪买5081买二价闪买5082买三价闪买5083买四价闪买5084买五价闪买5085
		买六价闪买5086买七价闪买5087买八价闪买5088买九价闪买5089买十价闪买5090
		卖一价闪买5091卖二价闪买5092卖三价闪买5093卖四价闪买5094卖五价闪买5095
		卖六价闪买5096卖七价闪买5097卖八价闪买5098卖九价闪买5099卖十价闪买5100
		涨停价闪买5101跌停价闪买5102
		*/
		//弹出闪电窗：
		//::SendMessage((HWND)hTDX_MainWnd, WM_COMMAND, MAKEWPARAM(5085, 0), NULL);
		::SendMessage((HWND)hTDX_MainWnd, WM_COMMAND, MAKEWPARAM(5081, 0), NULL);

		hTDX_QuickTradeWnd = NULL;
		while (!hTDX_QuickTradeWnd)
		{
			Sleep(100);
			hTDX_QuickTradeWnd = ::FindWindowA("#32770", sDlgCaption);
		}

		CWnd *pWnd = CWnd::FromHandle(hTDX_QuickTradeWnd)->GetWindow(GW_CHILD);
		TCHAR szBuf[256];

		int idxEdit = 0;
		while (pWnd != NULL)
		{
			GetClassName(pWnd->m_hWnd, szBuf, 256);
			if (_tcsicmp(szBuf, _T("Edit")) == 0)
			{
				idxEdit++;
				if (idxEdit == 1) // 1 买入价格， 3 买入数量
				{
					// 买入价格 + 0.001
					char temp1[256], temp2[256] = { 0 };
					while (strlen(temp2) == 0)
					{
						Sleep(10);
						::SendMessageA(pWnd->m_hWnd, WM_GETTEXT, 256, (LPARAM)temp2);//EDIT的句柄，消息，接收缓冲区大小，接收缓冲区指针
					}
					char str[255] = { 0 };
					sprintf(str, "%.3f", atof(temp2) + 0.001);
					::SendMessageA(pWnd->m_hWnd, WM_SETTEXT, 0, (LPARAM)str);
				}
				if (idxEdit == 3) // 1 买入价格， 3 买入数量
				{
					::SendMessageA(pWnd->m_hWnd, WM_SETTEXT, 0, (LPARAM)buyCount);
					char temp1[256], temp2[256];
					while (strcmp(temp2, buyCount) != 0)
					{
						Sleep(10);
						::SendMessageA(pWnd->m_hWnd, WM_GETTEXT, 256, (LPARAM)temp2);//EDIT的句柄，消息，接收缓冲区大小，接收缓冲区指针
					}
				}
			}

			pWnd = pWnd->GetNextWindow();
		}

		{
			HWND hWnd0 = NULL;
			while (NULL == hWnd0)
			{
				Sleep(10);
				hWnd0 = ::FindWindowExA(hTDX_QuickTradeWnd, NULL, "Button", sBuyBtnTxt);
			}
			//Sleep(100);
			while (NULL != hWnd0)
			{
				Sleep(10);
				SendMessage(hWnd0, BM_CLICK, 0, 0L);
				hWnd0 = ::FindWindowExA(hTDX_QuickTradeWnd, NULL, "Button", sBuyBtnTxt);
			}

			//委托撤单：
			//hTDX_MainWnd = ::FindWindowA(sMainClass, NULL);
			if (hTDX_MainWnd)
			{
				::SendMessage((HWND)hTDX_MainWnd, WM_COMMAND, MAKEWPARAM(5333, 0), NULL);
			}
		}
	}
}

//无法更换股票，只能交易当前主图显示行情的票
void OnSell()
{
	char buyCount[256] = "15000";
	char sDlgCaption[256] = "闪电卖出";
	char sBuyBtnTxt[256] = "卖  出";

	HWND hTDX_MainWnd = ::FindWindowA(sMainClass, NULL);
	if (hTDX_MainWnd)
	{
		HWND hTDX_QuickTradeWnd = ::FindWindowA("#32770", sDlgCaption);
		while (NULL != hTDX_QuickTradeWnd)
		{
			Sleep(10);
			SendMessage(hTDX_QuickTradeWnd, WM_CLOSE, 0, 0L);
			hTDX_QuickTradeWnd = ::FindWindowA("#32770", sDlgCaption);
		}

		/*
		买一价闪卖5111买二价闪卖5112买三价闪卖5113买四价闪卖5114买五价闪卖5115
		买六价闪卖5116买七价闪卖5117买八价闪卖5118买九价闪卖5119买十价闪卖5120
		卖一价闪卖5121卖二价闪卖5122卖三价闪卖5123卖四价闪卖5124卖五价闪卖5125
		卖六价闪卖5126卖七价闪卖5127卖八价闪卖5128卖九价闪卖5129卖十价闪卖5130
		涨停价闪卖5131跌停价闪卖5132

		*/
		//弹出闪电窗：
		//::SendMessage((HWND)hTDX_MainWnd, WM_COMMAND, MAKEWPARAM(5085, 0), NULL);
		::SendMessage((HWND)hTDX_MainWnd, WM_COMMAND, MAKEWPARAM(5121, 0), NULL);

		hTDX_QuickTradeWnd = NULL;
		while (!hTDX_QuickTradeWnd)
		{
			Sleep(100);
			hTDX_QuickTradeWnd = ::FindWindowA("#32770", sDlgCaption);
		}

		CWnd *pWnd = CWnd::FromHandle(hTDX_QuickTradeWnd)->GetWindow(GW_CHILD);
		TCHAR szBuf[256];

		int idxEdit = 0;
		while (pWnd != NULL)
		{
			GetClassName(pWnd->m_hWnd, szBuf, 256);
			if (_tcsicmp(szBuf, _T("Edit")) == 0)
			{
				idxEdit++;
				if (idxEdit == 1) // 1 价格， 3 数量
				{
					// 价格 - 0.001
					char temp1[256], temp2[256] = { 0 };
					while (strlen(temp2) == 0)
					{
						Sleep(10);
						::SendMessageA(pWnd->m_hWnd, WM_GETTEXT, 256, (LPARAM)temp2);//EDIT的句柄，消息，接收缓冲区大小，接收缓冲区指针
					}
					char str[255] = { 0 };
					sprintf(str, "%.3f", atof(temp2) - 0.001);
					::SendMessageA(pWnd->m_hWnd, WM_SETTEXT, 0, (LPARAM)str);
				}
				if (idxEdit == 3) // 1 价格， 3 数量
				{
					::SendMessageA(pWnd->m_hWnd, WM_SETTEXT, 0, (LPARAM)buyCount);
					char temp1[256], temp2[256];
					while (strcmp(temp2, buyCount) != 0)
					{
						Sleep(10);
						::SendMessageA(pWnd->m_hWnd, WM_GETTEXT, 256, (LPARAM)temp2);//EDIT的句柄，消息，接收缓冲区大小，接收缓冲区指针
					}
				}
			}

			pWnd = pWnd->GetNextWindow();
		}

		{
			HWND hWnd0 = NULL;
			while (NULL == hWnd0)
			{
				Sleep(10);
				hWnd0 = ::FindWindowExA(hTDX_QuickTradeWnd, NULL, "Button", sBuyBtnTxt);
			}
			//Sleep(100);
			while (NULL != hWnd0)
			{
				Sleep(10);
				SendMessage(hWnd0, BM_CLICK, 0, 0L);
				hWnd0 = ::FindWindowExA(hTDX_QuickTradeWnd, NULL, "Button", sBuyBtnTxt);
			}

			//委托撤单：
			//hTDX_MainWnd = ::FindWindowA(sMainClass, NULL);
			if (hTDX_MainWnd)
			{
				::SendMessage((HWND)hTDX_MainWnd, WM_COMMAND, MAKEWPARAM(5333, 0), NULL);
			}
		}
	}
}

	
附部分：通达信交易ID调用详单
交易委托33029闪电手5334
撤单查询5333一键全撤5335
买一价闪买5081买二价闪买5082买三价闪买5083买四价闪买5084买五价闪买5085
买六价闪买5086买七价闪买5087买八价闪买5088买九价闪买5089买十价闪买5090
卖一价闪买5091卖二价闪买5092卖三价闪买5093卖四价闪买5094卖五价闪买5095
卖六价闪买5096卖七价闪买5097卖八价闪买5098卖九价闪买5099卖十价闪买5100
涨停价闪买5101跌停价闪买5102

买一价闪卖5111买二价闪卖5112买三价闪卖5113买四价闪卖5114买五价闪卖5115
买六价闪卖5116买七价闪卖5117买八价闪卖5118买九价闪卖5119买十价闪卖5120
卖一价闪卖5121卖二价闪卖5122卖三价闪卖5123卖四价闪卖5124卖五价闪卖5125
卖六价闪卖5126卖七价闪卖5127卖八价闪卖5128卖九价闪卖5129卖十价闪卖5130
涨停价闪卖5131跌停价闪卖5132

买一普买5281买二普买5282买三普买5283买四普买5284买五普买5285
买六普买5286买七普买5287买八普买5288买九普买5289买十普买5290
卖一普买5291卖二普买5292卖三普买5293卖四普买5294卖五普买5295
卖六普买5296卖七普买5297卖八普买5298卖九普买5299卖十普买5300
涨停价普买5301跌停价普买

买一普卖5311买二普卖5312买三普卖5313买四普卖5314买五普卖5315
买六普卖5316买七普卖5317买八普卖5318买九普卖5319买十普卖5320
卖一普卖5321卖二普卖5322卖三普卖5323卖四普卖5324卖五普卖5325
买六普卖5326买七普卖5327买八普卖5328买九普卖5329买十普卖5330
涨停价普卖5331跌停价普卖5332

闪电融资买入5191闪电融券卖出5202

hosts
151.101.1.194 github.global.ssl.fastly.net 
185.199.110.153 assets-cdn.github.com
192.30.253.113 github.com
